{% load static %}
{% load widget_tweaks %}


<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}My Blog{% endblock %}</title>

  <!-- Bootstrap CSS（既存ページ保持用）-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Tailwind（必要最小限のデザイン修正用に読み込み） -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- 任意：自作CSS -->
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
</head>

<body>
<!-- ✅ ナビバー（Tailwind使用：影響範囲ここだけ） -->
<nav class="bg-white border-b border-gray-200 shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
    <a href="{% url 'article_list' %}" class="text-2xl font-bold text-blue-600 hover:text-blue-800 transition">
      MyBlog
    </a>
    <ul class="flex items-center space-x-6 text-sm font-medium text-gray-700">
      {% if user.is_authenticated %}
        <li>
          <a href="{% url 'article_create' %}" class="hover:text-blue-600 text-xl">記事投稿</a>
        </li>
        <li>
          <a href="{% url 'profile_detail' user.username %}" class="hover:text-blue-600 text-xl">{{ user.username }}</a>
        </li>
        <li>
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button type="submit" class="hover:text-red-500 transition text-xl">ログアウト</button>
          </form>
        </li>
      {% else %}
        <li>
          <a href="{% url 'login' %}" class="hover:text-blue-600">ログイン</a>
        </li>
        <li>
          <a href="{% url 'signup' %}" class="hover:text-blue-600">新規登録</a>
        </li>
      {% endif %}
    </ul>
  </div>
</nav>

<!-- ✅ コンテンツ -->
<div class="container py-4">
  {% block content %}
  {% endblock %}
</div>

<!-- Bootstrap JS（必要な場合のみ）-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% if form.media %}
  {{ form.media }}
{% endif %}

</body>
</html>
