{% load static %}
{% load widget_tweaks %}


<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}My Blog{% endblock %}</title>

  <!-- Bootstrap CSS（既存ページ保持用）-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Tailwind（必要最小限のデザイン修正用に読み込み） -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- 任意：自作CSS -->
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
</head>

<body>
<!-- ✅ ナビバー（Tailwind使用：影響範囲ここだけ） -->
<nav class="bg-white border-b border-gray-200 shadow-sm">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
    <a href="{% url 'article_list' %}" class="text-xl font-semibold text-blue-600">MyBlog</a>
    <ul class="flex space-x-4">
  {% if user.is_authenticated %}
  <li>
      <a href="{% url 'article_create' %}" class="text-gray-700 hover:text-blue-600 font-medium">
        記事投稿
      </a>
    </li>
    <li>
      <a href="{% url 'profile_detail' user.username %}" class="text-gray-700 hover:text-blue-600 font-medium">
        {{ user.username }}
      </a>
    </li>
  
    <li>
  <form method="post" action="{% url 'logout' %}">
    {% csrf_token %}
    <button type="submit" class="text-gray-700 hover:text-red-500 font-medium bg-transparent border-none cursor-pointer p-0">
      ログアウト
    </button>
  </form>
</li>

  {% else %}
    <li>
      <a href="{% url 'login' %}" class="text-gray-700 hover:text-blue-600 font-medium">
        ログイン
      </a>
    </li>
    <li>
      <a href="{% url 'signup' %}" class="text-gray-700 hover:text-blue-600 font-medium">
        新規登録
      </a>
    </li>
  {% endif %}
</ul>

  </div>
</nav>

<!-- ✅ コンテンツ -->
<div class="container py-4">
  {% block content %}
  {% endblock %}
</div>

<!-- Bootstrap JS（必要な場合のみ）-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
